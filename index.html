<!DOCTYPE html>
<html style="overflow:hidden;">
 <head>
     <meta charset="UTF-8">
     <title>Tabletop Grace</title>
     <link rel="stylesheet" type="text/css" href="style.css">   
 </head>
 <body oncontextmenu="return false">
    <svg id='pie_svg' width="400" height="400" style="display:none; position:absolute; z-index:1000; pointer-events:none">
    </svg>
    <svg id='sec_svg' width="400" height="400" style="display:none; position:absolute; z-index:1000; pointer-events:none">
    </svg>
    <svg id='tile_svg' width="300" height="300" style="display:none; position:absolute; z-index:1000; pointer-events:none">
    </svg>
    <svg id='con_svg' width="600" height="400" style="display:none; position:absolute; z-index:1000; pointer-events:none">
    </svg>

    <svg id='window_svg' width="200" height="122" style="display:none; position:absolute; z-index:1001;">
    </svg>
    <div id="blank" style="width:100%; height:100%; position:relative"></div>
    <div id="windowarea" style="width:100%; height:100%; background:ash; position:unset">
      <svg id="svg_0" width="100%" height="24px" style="position:absolute; left:0px; bottom:-2px;z-index:1000;">
        <rect x=0 y=0 top=50% width=100% height=100% fill=black />
        <!-- <rect x=1.5% y=30% width=97% height=40% fill=grey /> -->
      </svg>
      <svg id="svg_1" width="20px" height="100%" style="position:absolute; left:0px; bottom:0px;z-index:1000;">
        <rect x=0 y=0 width=100% height=100% fill=black />
        <!-- <rect x=20% y=2% width=40% height=96% fill=grey /> -->
      </svg>
      <svg id="svg_2" width="20px" height="100%" style="position:absolute; right:-2px; bottom:0px;z-index:1000;">
        <rect x=0 y=0 width=100% height=100% fill=black />
        <!-- <rect x=30% y=2% width=40% height=96% fill=grey /> -->
      </svg>
      <svg id="svg_3" width="100%" height="24px" style="position:absolute; left:0px; top:-2px; bottom:0px;z-index:1000;">
        <rect x=0 y=0 width=100% height=100% fill=black />
        <!-- <rect x=1.5% y=20%% width=97% height=40% fill=grey /> -->
      </svg>

      <p style="width:350px; height:5%; color:black; opacity:0.5; top:38%; text-align:center; font-size:40px;
        font-family:Arial; position:absolute; left:50%; margin-left:-175px;pointer-events:none;">Tabletop Grace</p>
      <p style="width:200px; height:5%; color:black; opacity:0.3; top:47%; text-align:center; font-size:20px;
        font-family:Arial; position:absolute; left:50%; margin-left:-100px;pointer-events:none">Tap Edge to Start</p>
      <div style="width:400px; height:5%; color:black; opacity:0.25; top:52%; text-align:center; font-size:14px;
        font-family:Arial; position:absolute; left:50%; margin-left:-200px;"
      id="acknowledgements">
      <p style="margin:0px;pointer-events:none" ><a href="https://github.com/mwh/minigrace">Minigrace</a> is distributed under the GNU GPL version 3.</p>
      <p style="margin:0px;pointer-events:none"><a href="http://www.entypo.com/">Entypo</a> pictograms by Daniel Bruce.</p>
      <p style="margin:0px;pointer-events:none"><a href="/" style="background:#555;color:#ddd;border-radius:3px;padding:0px 10px 0px 10px;text-decoration:none;font-family:Arial;letter-spacing:1px;font-size:12px;">Powered by Achex WebSocketServer</a></p>
      </div>
    </div>
    <div id="windowContainer" style="width:calc(100% - 38px); height:calc(100% - 44px); left:20px; top:22px; position:fixed;">
      <div id="Window_0" class="windowN" style="width:45%; height:45%; left:5%; top:5%; position:absolute; border:solid 2px green; display:none;">
        <div id="codearea0" class="codearea" style="width:100%; height:100%; position:absolute; background:#ddd;">   
        <p style="width:350px; height:5%; color:black; opacity:0.5; top:38%; text-align:center; font-size:40px;
          font-family:Arial; position:absolute; left:50%; margin-left:-175px;pointer-events:none">Tabletop Grace</p>        
          <div style="width:400px; height:5%; color:black; opacity:0.25; top:50%; text-align:center; font-size:14px;
            font-family:Arial; position:absolute; left:50%; margin-left:-200px;"
          id="acknowledgements">
            <p style="margin:0px;pointer-events:none"><a href="https://github.com/mwh/minigrace">Minigrace</a> is distributed under the GNU GPL version 3.</p>
            <p style="margin:0px;pointer-events:none"><a href="http://www.entypo.com/">Entypo</a> pictograms by Daniel Bruce.</p>
            <p style="margin:0px;pointer-events:none"><a href="http://achex.ca" style="background:#555;color:#eee;border-radius:3px;padding:0px 10px 0px 10px;text-decoration:none;font-family:Arial;letter-spacing:1px;font-size:12px;">Powered by Achex WebSocketServer</a></p>
          </div>
          <p style="width:40px; height:40px; left:50%; top:55%; position:sticky; margin-left:-20px; margin-top:-20px;
            text-align:left; font-size:30px; font-family:cursive; opacity:0.2; pointer-events:none">1</p>
          <div id="desaturator0" class="desaturator"></div>        
        </div>
        <div id="code_txt_real0" style="width:100%; height:100%; position:absolute;"></div>
        <canvas id="overlay-canvas0" class="overlay-canvas" width="500" height="500"></canvas>
        <div id="outputarea0" class="outputarea">
          <textarea id="txt0" class="stdout_txt" style="clear:both;" cols="100" rows="5"></textarea>
          <canvas id="canvas0" class="standard-canvas" width="500" height="500"></canvas>
        </div>
      </div>
      <div id="Window_1" class="windowN" style="width:45%; height:45%; left:50%; top:50%; position:absolute; border:solid 2px blue; display:none;">
        <div id="codearea1" class="codearea" style="width:100%; height:100%; position:absolute;">
          <p style="width:40px; height:40px; left:50%; top:50%; position:sticky; margin-left:-20px; margin-top:-20px;
            text-align:center; font-size:30px; font-family:cursive; opacity:0.2; pointer-events:none">2</p>
          <div id="desaturator1" class="desaturator"></div>
        </div>
        <div id="code_txt_real1" style="width:100%; height:100%; position:absolute;"></div>
        <canvas id="overlay-canvas1" class="overlay-canvas" width="500" height="500"></canvas>
        <div id="outputarea1" class="outputarea">
          <textarea id="txt1" class="stdout_txt" style="clear:both;" cols="100" rows="5"></textarea>
          <canvas id="canvas1" class="standard-canvas" width="500" height="500"></canvas>
        </div>
      </div>
      <div id="Window_2" class="windowN" style="width:45%; height:45%; left:50%; top:50%; position:absolute; border:solid 2px red; display:none;">
        <div id="codearea2" class="codearea" style="width:100%; height:100%; position:absolute;">
          <p style="width:40px; height:40px; left:50%; top:50%; position:sticky; margin-left:-20px; margin-top:-20px;
            text-align:center; font-size:30px; font-family:cursive; opacity:0.2; pointer-events:none">3</p>
          <div id="desaturator2" class="desaturator"></div>
        </div>
        <div id="code_txt_real2" style="width:100%; height:100%; position:absolute;"></div>
        <canvas id="overlay-canvas2" class="overlay-canvas" width="500" height="500"></canvas>
        <div id="outputarea2" class="outputarea">
          <textarea id="txt2" class="stdout_txt" style="clear:both;" cols="100" rows="5"></textarea>
          <canvas id="canvas2" class="standard-canvas" width="500" height="500"></canvas>
          
        </div>
      </div>
      <div id="Window_3" class="windowN" style="width:45%; height:45%; left:50%; top:50%; position:absolute; border:solid 2px gold; display:none;">
        <div id="codearea3" class="codearea" style="width:100%; height:100%; position:absolute;">
          <p style="width:40px; height:40px; left:50%; top:50%; position:sticky; margin-left:-20px; margin-top:-20px;
            text-align:center; font-size:30px; font-family:cursive; opacity:0.2; pointer-events:none">4</p>
          <div id="desaturator3" class="desaturator"></div>
        </div>
        <div id="code_txt_real3" style="width:100%; height:100%; position:absolute;"></div>
        <canvas id="overlay-canvas3" class="overlay-canvas" width="500" height="500"></canvas>
        <div id="outputarea3" class="outputarea">
          <textarea id="txt3" class="stdout_txt" style="clear:both;" cols="100" rows="5"></textarea>
          <canvas id="canvas3" class="standard-canvas" width="500" height="500"></canvas>
        </div>
      </div>
    </div>

    <span id="outputarea">
      <canvas id="standard-canvas" width="500" height="500"></canvas>
      <textarea id="stdout_txt" style="clear:both;" cols="100" rows="5"></textarea>
    </span>

    <div id="toolbox" style="display: none;">
      <div class="tile vardec" data-category="Variables" desc="Variable"><span style="margin-right: 1ex; color: blue;">var</span><input type="text" value="" size="1" class="variable-name"><span class="assop">:=</span><div class="hole"></div></div>
      <div class="tile defdec" data-category="Variables" desc="Definiton"><span style="margin-right: 1ex; color: blue;">def</span><input type="text" value="" size="1" class="variable-name"><span class="assop">=</span><div class="hole"></div></div>
      <div class="tile var" data-category="Variables" desc="Reference"><span class="var-name">Variable</span></div>
      <div class="tile assign" data-category="Variables" desc="Assign"><div class="hole bind-lhs"></div><span class="assop">:=</span><div class="hole"></div></div>
      <div class="tile operator" data-category="Numbers and Strings" desc="+ - * / % ^" data-types="Number" data-operators="+ * - /"><div class="hole number" data-accepts="Number"></div><div class="op" data-operators="+ * - /">+</div><div class="hole number" data-accepts="Number"></div></div>
      <div class="tile operator" data-category="Numbers and Strings" desc="Concat" data-types="String" data-operators="++"><div class="hole" data-accepts="String"></div><div class="op">++</div><div class="hole" data-accepts="String"></div></div>
      <div class="tile comparison-operator" data-category="Numbers and Strings" desc="== != < > <= >=" data-types="Boolean" data-operators="== < >"><div class="hole number"></div><div class="cmpop">==</div><div class="hole number"></div></div>
      <div class="tile number" data-category="Numbers and Strings" desc="Number" data-types="Number"><input type="text" value="0" size="3" ></div>
      <div class="tile operator iterable" data-category="Numbers and Strings" desc="ITERABLE" data-types="Iterable" data-operators=".."><div class="hole number"></div><div class="op">..</div><div class="hole number"></div></div>
      <div class="tile string" data-types="String Iterable" data-category="Numbers and Strings" desc="STRING">"<input type="text" value="Hello, world!" size="13" >"</div>
      <div class="tile request" data-category="Control" desc="REQUEST"><div class="hole"></div><span>.</span><input type="text" size="5"><a class="argument-adder">+</a></div>
      <div class="tile object" data-category="Control" desc="OBJECT"><div><span style="margin-right: 1ex; color: blue;">object</span> {</div><div class="indent"><div class="hole multi object-scope"></div></div><div>}</div></div>
      <div class="tile class" data-category="Control" desc="CLASS"><div><span style="margin-right: 1ex; color: blue;">class</span><input type="text" value="" size="5" class="variable-name class-name" />.<input type="text" value="" size="5" class="method-name" /><a class="parameter-adder">+</a><span class="lbrace">{</span></div><div class="indent"><div class="hole multi object-scope"></div></div><div>}</div></div>
      <div class="tile inherits" data-category="Control" desc="INHERIT"><span style="margin-right: 1ex; color: blue;">inherits</span> <div class="hole "></div></div>
      <div class="tile method" data-category="Control" desc="METHOD"><div><span style="margin-right: 1ex; color: blue;">method</span><input type="text" value="" size="5" class="method-name" /><a class="parameter-adder">+</a> <span class="lbrace">{</span></div><div class="indent"><div class="hole multi"></div></div><div>}</div></div>
      <div class="tile selfcall" data-category="Control" desc="SELFCALL"><input type="text" size="5" /><a class="argument-adder">+</a></div>
     </div>

     <textarea id="stderr_txt" style="clear:both;" cols="100" rows="5"></textarea>
     <textarea id="gracecode0" class="gracecode" cols="100" rows="10"></textarea>
     <textarea id="gracecode1" class="gracecode" cols="100" rows="10"></textarea>
     <textarea id="gracecode2" class="gracecode" cols="100" rows="10"></textarea>
     <textarea id="gracecode3" class="gracecode" cols="100" rows="10"></textarea>


    <div style="display: none">
      <div id="category-bar">
         <input type="button" value="Variables" />
         <input type="button" value="Numbers and Strings" />
         <input type="button" value="I/O" />
         <input type="button" value="Control" />
         <input type="button" value="Turtle" />
      </div>
      <div style="clear: left;"></div>
      <select id="dialect" onchange="changeDialect()">
         <option value="">Standard
         <option value="logo">Turtle graphics
         <option value="loopinvariant">Loop invariants
         <option value="sniff">Sniff graphics
      </select>

      <input type="button" onclick="go()" value="Run" id="runbutton">
      <input type="button" onclick="toggleShrink()" value="Code View" id="viewbutton">
      <div id="indicator" style="display: inline-block; width: 16px; height: 16px; background: green;"></div>
      <a href="blob:http://homepages.ecs.vuw.ac.nz/feb0f16a-e3a6-41bb-b045-cff54f08df54" download="myprogram.grace" id="downloadlink0">Download</a>
      <a href="blob:http://homepages.ecs.vuw.ac.nz/feb0f16a-e3a6-41bb-b045-cff54f08df54" download="myprogram.grace" id="downloadlink1">Download</a>
      <a href="blob:http://homepages.ecs.vuw.ac.nz/feb0f16a-e3a6-41bb-b045-cff54f08df54" download="myprogram.grace" id="downloadlink2">Download</a>
      <a href="blob:http://homepages.ecs.vuw.ac.nz/feb0f16a-e3a6-41bb-b045-cff54f08df54" download="myprogram.grace" id="downloadlink3">Download</a>
      Load file: <input type="file" id="userfile" onchange="loadFile()" />
      <input type="button" value="Load sample" onclick="loadSample(document.getElementById('samples').value)" />
      <select id="samples">
         <option>Select sample</option>
         <option value="fibonacci">Fibonacci loop</option>
         <option value="turtlehousec">Turtle house</option>
         <option value="sniffpong">Sniff pong</option>
         <option value="davesvsstuarts">Daves vs Stuarts</option>
         <option value="orbital">Orbital simulator</option>
       </select>
       <input type="button" value="Reset" onclick="reset_page()"/>
       <input type="button" value="Clear Output" onclick="clearOutput()"/>
       <br />

    </div>

    <script type="text/javascript" src="scripts/windows.js"></script>
    <script type="text/javascript" src="scripts/touch.js"></script>
    <script type="text/javascript" src="scripts/piemenu.js"></script>
    <script type="text/javascript" src="scripts/main.js"></script>
    <script type="text/javascript" src="scripts/overlay.js"></script>
    <script type="text/javascript" src="scripts/drag.js"></script>
    <script type="text/javascript" src="scripts/text.js"></script>
    <script type="text/javascript" src="scripts/codegen.js"></script>
    <script type="text/javascript" src="scripts/json.js"></script>
    <script type="text/javascript" src="scripts/dialects.js"></script>
    <script type="text/javascript" src="scripts/minigrace.js"></script>
    <script type="text/javascript" src="scripts/turtle.js"></script>
    <script type="text/javascript" src="scripts/logo.js"></script>
    <script type="text/javascript" src="scripts/loopinvariant.js"></script>
    <script type="text/javascript" src="scripts/sniff.js"></script>
    <script type="text/javascript" src="scripts/windows.js"></script>
    <script type="text/javascript" src="scripts/oskar.js"></script>
    <script type="text/javascript" src="scripts/client-ws.js"></script>


    <script src="ace/ace.js"></script>
    <script src="ace/mode-grace.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript" src="scripts/setup.js"></script>
    <script>
    <!-- Tabletop Version -->
      <!-- windowSetup(0); -->
    <!-- Mobile Version -->
      windowSetup(1);
    </script>
 </body>
</html>
